----------------------------------------------------------------------
-- Test +{} 
-- +{=...} is a shortcut of +{emit(...)}
-- +{=...} used in normal expression
----------------------------------------------------------------------
-- push () 
--	local a = 20 
--	local b = 20 + 30 
--	scale (b) 
--	translate (1, 1, 1) 
-- pop ()

def("scale", p1, p2){
	push()
	local a = +{=p1}
	local b = +{=p1}++{=p2}
	scale(b)
	+{emit()}
	pop()
}


scale(20, 30){
	translate(1,1,1)
}